<div class="container pb-5">
  <div class="d-flex flex-row justify-content-between">
    <h1 class="display-6 my-3">Manage users</h1>
  </div>
  <div>
    <table class="table table-hover m-0 table-striped">
      <thead>
        <tr>
          <th scope="col">User</th>
          <th scope="col">Is a high level user?</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users; let i = index">
          <td class="col">{{user.email | titlecase}}</td>
          <td class="col-2">
              <input class="form-check-input" type="checkbox" [checked]="user.isHighLevel" id="flexCheckDefault-{{i}}" aria-label="Is user a high level user."
              (click)="changePermission(user.id, $event)">
          </td>
        </tr>

        <tr class="h-100" [class.d-none]="pages !== currentPage">
        </tr>

        <tr *ngIf="pages > 1">
          <td colspan="12">
            <nav aria-label="...">
              <ul class="pagination justify-content-center my-0">
                <li class="page-item" [class.active]="currentPage === pageNum+1"
                  [attr.aria-current]="pageNum+1==currentPage ? 'page' : null"
                  *ngFor="let page of [].constructor(pages), let pageNum = index">
                  <a [attr.href]="currentPage === pageNum+1 ? null : '#'" class="page-link"
                    (click)="setPage(pageNum+1)">{{pageNum+1}}</a>
                </li>
              </ul>
            </nav>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<ng-template #deleteModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title">Confirm delete</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
      (click)="modal.dismiss('Close')"></button>
  </div>
  <div class="modal-body">
    <p>Are you sure you want to delete this post?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" ngbAutofocus
      (click)="modal.close('Cancel')">Cancel</button>
    <button type="button" class="btn btn-danger" (click)="modal.close('Confirm')">Confirm delete</button>
  </div>
</ng-template>
